# é¡¹ç›®å¼€å‘æŒ‡å—

**ç‰ˆæœ¬**: v3.2.0  
**æœ€åæ›´æ–°**: 2025-10-11

---

## ğŸ“– ç›®å½•

1. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
2. [å¼€å‘è§„èŒƒ](#å¼€å‘è§„èŒƒ)
3. [ç»„ä»¶å¼€å‘](#ç»„ä»¶å¼€å‘)
4. [å·¥å…·å‡½æ•°å¼€å‘](#å·¥å…·å‡½æ•°å¼€å‘)
5. [é¡µé¢å¼€å‘](#é¡µé¢å¼€å‘)
6. [æœåŠ¡å±‚å¼€å‘](#æœåŠ¡å±‚å¼€å‘)
7. [æ ·å¼è§„èŒƒ](#æ ·å¼è§„èŒƒ)
8. [æµ‹è¯•è§„èŒƒ](#æµ‹è¯•è§„èŒƒ)
9. [ä»£ç æäº¤è§„èŒƒ](#ä»£ç æäº¤è§„èŒƒ)
10. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## é¡¹ç›®ç»“æ„

```
chemtools-miniapp/
â”œâ”€â”€ app.js                    # å°ç¨‹åºå…¥å£
â”œâ”€â”€ app.json                  # å…¨å±€é…ç½®
â”œâ”€â”€ app.wxss                  # å…¨å±€æ ·å¼
â”œâ”€â”€ project.config.json       # é¡¹ç›®é…ç½®
â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ LICENSE                   # å¼€æºåè®®
â”œâ”€â”€docs/                     # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ é¡¹ç›®æ–‡æ¡£ç´¢å¼•.md
â”‚   â”œâ”€â”€ é¡¹ç›®å¼€å‘æŒ‡å—.md
â”‚   â”œâ”€â”€ å¾…å®ç°åŠŸèƒ½æ¸…å•.md
â”‚   â”œâ”€â”€ ç»„ä»¶ä½¿ç”¨æ–‡æ¡£.md
â”‚   â”œâ”€â”€ å·¥å…·å‡½æ•°APIæ–‡æ¡£.md
â”‚   â””â”€â”€ æœåŠ¡å±‚æ–‡æ¡£.md
â”œâ”€â”€ components/               # ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ calculator-input/     # è®¡ç®—å™¨è¾“å…¥ç»„ä»¶
â”‚   â”œâ”€â”€ result-card/          # ç»“æœå¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ skeleton/             # éª¨æ¶å±ç»„ä»¶
â”‚   â””â”€â”€ tool-card/            # å·¥å…·å¡ç‰‡ç»„ä»¶
â”œâ”€â”€ pages/                    # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ home/                 # é¦–é¡µ
â”‚   â”œâ”€â”€ favorites/            # æ”¶è—é¡µ
â”‚   â”œâ”€â”€ help/                 # å¸®åŠ©é¡µ
â”‚   â”œâ”€â”€ basic/                # åŸºç¡€è®¡ç®—é¡µé¢ï¼ˆåˆ†åŒ…ï¼‰
â”‚   â”‚   â”œâ”€â”€ unit/             # å•ä½è½¬æ¢
â”‚   â”‚   â”œâ”€â”€ ph/               # pHè®¡ç®—
â”‚   â”‚   â”œâ”€â”€ solution/         # æº¶æ¶²é…åˆ¶
â”‚   â”‚   â””â”€â”€ molar/            # æ‘©å°”è®¡ç®—
â”‚   â”œâ”€â”€ advanced/             # é«˜çº§è®¡ç®—é¡µé¢ï¼ˆåˆ†åŒ…ï¼‰
â”‚   â”‚   â”œâ”€â”€ xrd/              # XRDè®¡ç®—
â”‚   â”‚   â”œâ”€â”€ electrochem/      # ç”µåŒ–å­¦è®¡ç®—
â”‚   â”‚   â”œâ”€â”€ ksp/              # æº¶åº¦ç§¯è®¡ç®—
â”‚   â”‚   â””â”€â”€ complexation/     # ç»œåˆè®¡ç®—
â”‚   â”œâ”€â”€ materials/            # ææ–™æ•°æ®åº“ï¼ˆåˆ†åŒ…ï¼‰
â”‚   â”‚   â”œâ”€â”€ periodic/         # å…ƒç´ å‘¨æœŸè¡¨
â”‚   â”‚   â”œâ”€â”€ semiconductor/    # åŠå¯¼ä½“ææ–™
â”‚   â”‚   â””â”€â”€ semiconductor-extras/ # åŠå¯¼ä½“æ‰©å±•
â”‚   â””â”€â”€ spectroscopy/         # å…‰è°±å·¥å…·ï¼ˆåˆ†åŒ…ï¼‰
â”‚       â”œâ”€â”€ xps-raman/        # XPS/Raman
â”‚       â””â”€â”€ uvvis/            # UV-Vis
â”œâ”€â”€ services/                 # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ storage.js            # å­˜å‚¨æœåŠ¡
â”‚   â”œâ”€â”€ history.js            # å†å²è®°å½•æœåŠ¡
â”‚   â”œâ”€â”€ export.js             # å¯¼å‡ºæœåŠ¡
â”‚   â””â”€â”€ errorHandler.js       # é”™è¯¯å¤„ç†æœåŠ¡
â””â”€â”€ utils/                    # å·¥å…·å‡½æ•°
    â”œâ”€â”€ conversions.js        # å•ä½è½¬æ¢
    â”œâ”€â”€ xrd.js                # XRDè®¡ç®—
    â”œâ”€â”€ electrochem.js        # ç”µåŒ–å­¦è®¡ç®—
    â”œâ”€â”€ ksp.js                # æº¶åº¦ç§¯è®¡ç®—
    â”œâ”€â”€ semiconductors.js     # åŠå¯¼ä½“æ•°æ®
    â”œâ”€â”€ periodic.js           # å…ƒç´ å‘¨æœŸè¡¨
    â”œâ”€â”€ complexation.js       # ç»œåˆè®¡ç®—
    â”œâ”€â”€ buffer.js             # ç¼“å†²æº¶æ¶²
    â”œâ”€â”€ concentration.js      # æµ“åº¦è®¡ç®—
    â”œâ”€â”€ spectroscopy.js       # å…‰è°±æ•°æ®
    â”œâ”€â”€ uvvis.js              # UV-Visè®¡ç®—
    â””â”€â”€ semiconductor_extras.js # åŠå¯¼ä½“æ‰©å±•
```

---

## å¼€å‘è§„èŒƒ

### 1. å‘½åè§„èŒƒ

#### æ–‡ä»¶å‘½å
- é¡µé¢æ–‡ä»¶: å°å†™å­—æ¯ï¼ŒçŸ­æ¨ªçº¿åˆ†éš”ï¼ˆå¦‚ `xrd.js`, `semiconductor-extras.js`ï¼‰
- ç»„ä»¶æ–‡ä»¶: å°å†™å­—æ¯ï¼ŒçŸ­æ¨ªçº¿åˆ†éš”ï¼ˆå¦‚ `result-card.js`ï¼‰
- å·¥å…·æ–‡ä»¶: å°å†™å­—æ¯ï¼Œé©¼å³°å‘½åï¼ˆå¦‚ `conversions.js`, `errorHandler.js`ï¼‰

#### å˜é‡å‘½å
```javascript
// å¸¸é‡: å…¨å¤§å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš”
const MAX_HISTORY_COUNT = 20;
const API_BASE_URL = 'https://api.example.com';

// å˜é‡: é©¼å³°å‘½å
let userName = 'John';
let isLoading = false;

// å‡½æ•°: é©¼å³°å‘½åï¼ŒåŠ¨è¯å¼€å¤´
function calculateDSpacing(theta, lambda) { }
function getUserData() { }
function setLoading(isLoading) { }

// ç§æœ‰æ–¹æ³•: ä¸‹åˆ’çº¿å¼€å¤´
function _internalHelper() { }
```

#### ç»„ä»¶å±æ€§å‘½å
```javascript
// ç»„ä»¶ properties
properties: {
  // å¸ƒå°”å€¼: is/has/can å¼€å¤´
  isLoading: Boolean,
  hasError: Boolean,
  canEdit: Boolean,
  
  // äº‹ä»¶: on å¼€å¤´
  onSuccess: Function,
  onError: Function,
  
  // æ•°æ®: åè¯
  title: String,
  dataList: Array,
  config: Object
}
```

---

### 2. ä»£ç é£æ ¼

#### ç¼©è¿›å’Œç©ºæ ¼
```javascript
// ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›
function example() {
  if (condition) {
    doSomething();
  }
}

// è¿ç®—ç¬¦ä¸¤è¾¹åŠ ç©ºæ ¼
let sum = a + b;
let result = x * y;

// é€—å·ååŠ ç©ºæ ¼
let arr = [1, 2, 3];
let obj = { a: 1, b: 2 };
```

#### å¤§æ‹¬å·
```javascript
// å·¦å¤§æ‹¬å·ä¸æ¢è¡Œ
if (condition) {
  doSomething();
} else {
  doOtherThing();
}

// å•è¡Œè¯­å¥ä¹Ÿä½¿ç”¨å¤§æ‹¬å·
if (condition) {
  return true;
}
```

#### æ³¨é‡Šè§„èŒƒ
```javascript
/**
 * å‡½æ•°è¯´æ˜ï¼ˆå¤šè¡Œæ³¨é‡Šï¼‰
 * @param {number} theta - 2Î¸è§’åº¦
 * @param {number} lambda - æ³¢é•¿
 * @returns {object} è®¡ç®—ç»“æœæˆ–é”™è¯¯å¯¹è±¡
 */
function calculateDSpacing(theta, lambda) {
  // å•è¡Œæ³¨é‡Šï¼šè¾“å…¥éªŒè¯
  if (!isValid(theta)) {
    return { error: 'è§’åº¦æ— æ•ˆ' };
  }
  
  // è®¡ç®— d å€¼
  const d = lambda / (2 * Math.sin(theta * Math.PI / 180));
  
  return { d, unit: 'Ã…' };
}
```

---

### 3. é”™è¯¯å¤„ç†

#### ç»Ÿä¸€çš„é”™è¯¯è¿”å›æ ¼å¼
```javascript
// æˆåŠŸè¿”å›
{
  value: 2.456,
  unit: 'Ã…',
  precision: 'Â±0.001 Ã…',
  formula: 'd = Î»/(2sinÎ¸)',
  conditions: ['Î» = 1.5406 Ã…', '2Î¸ = 36.5Â°']
}

// é”™è¯¯è¿”å›
{
  error: 'è¾“å…¥è§’åº¦è¶…å‡ºèŒƒå›´',
  errorCode: 'RANGE_ERROR',
  details: {
    parameter: 'theta',
    value: 200,
    range: '0Â° < 2Î¸ < 180Â°'
  }
}
```

#### ä½¿ç”¨ try-catch
```javascript
try {
  const result = calculateSomething(input);
  if (result.error) {
    throw new Error(result.error);
  }
  return result;
} catch (error) {
  errorHandler.logError(error, 'calculateSomething');
  return { error: error.message };
}
```

---

## ç»„ä»¶å¼€å‘

### ç»„ä»¶ç»“æ„

```javascript
// component.js
Component({
  options: {
    styleIsolation: 'shared',  // æ ·å¼éš”ç¦»
    multipleSlots: true         // å¤šæ’æ§½æ”¯æŒ
  },
  
  properties: {
    // å±æ€§å®šä¹‰
    title: {
      type: String,
      value: 'é»˜è®¤æ ‡é¢˜'
    }
  },
  
  data: {
    // å†…éƒ¨æ•°æ®
    count: 0
  },
  
  lifetimes: {
    // ç”Ÿå‘½å‘¨æœŸ
    attached() {
      // ç»„ä»¶æŒ‚è½½
    },
    detached() {
      // ç»„ä»¶å¸è½½
    }
  },
  
  methods: {
    // æ–¹æ³•
    handleClick() {
      this.triggerEvent('click', { data: 'value' });
    }
  }
});
```

### ç»„ä»¶é€šä¿¡

```javascript
// çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶
<custom-component 
  title="æ ‡é¢˜" 
  bind:success="onSuccess"
/>

// å­ç»„ä»¶è§¦å‘äº‹ä»¶
this.triggerEvent('success', { 
  message: 'æ“ä½œæˆåŠŸ' 
});

// çˆ¶ç»„ä»¶æ¥æ”¶
onSuccess(e) {
  console.log(e.detail.message);
}
```

---

## å·¥å…·å‡½æ•°å¼€å‘

### æ ‡å‡†æ¨¡æ¿

```javascript
/**
 * å·¥å…·å‡½æ•°æ¨¡å—è¯´æ˜
 * æ•°æ®æ¥æºï¼šXXXX
 */

// å…ƒæ•°æ®
const METADATA = {
  version: '1.0.0',
  lastUpdated: '2025-10-10',
  sources: {
    data: 'æ•°æ®æ¥æº',
    formula: 'å…¬å¼æ¥æº',
    citation: 'å¼•ç”¨'
  },
  precision: {
    param1: 'ç²¾åº¦è¯´æ˜'
  },
  applicableRange: {
    param1: 'é€‚ç”¨èŒƒå›´'
  }
};

/**
 * è·å–å…ƒæ•°æ®
 * @returns {object} å…ƒæ•°æ®å¯¹è±¡
 */
function getMetadata() {
  return METADATA;
}

/**
 * ä¸»è¦è®¡ç®—å‡½æ•°
 * @param {number} input1 - å‚æ•°è¯´æ˜
 * @param {number} input2 - å‚æ•°è¯´æ˜
 * @returns {object} è®¡ç®—ç»“æœæˆ–é”™è¯¯å¯¹è±¡
 */
function calculate(input1, input2) {
  // 1. è¾“å…¥éªŒè¯
  if (!Number.isFinite(input1)) {
    return {
      error: 'å‚æ•°1å¿…é¡»æ˜¯æœ‰æ•ˆæ•°å­—',
      errorCode: 'INVALID_INPUT',
      details: { parameter: 'input1', value: input1 }
    };
  }
  
  // 2. èŒƒå›´æ£€æŸ¥
  if (input1 < 0 || input1 > 100) {
    return {
      error: 'å‚æ•°1è¶…å‡ºé€‚ç”¨èŒƒå›´',
      errorCode: 'RANGE_ERROR',
      details: { 
        parameter: 'input1', 
        value: input1, 
        range: '0 < input1 < 100' 
      }
    };
  }
  
  // 3. æ‰§è¡Œè®¡ç®—
  const result = input1 * input2;
  
  // 4. æ„å»ºè¿”å›å€¼
  const output = {
    result,
    unit: 'å•ä½',
    precision: 'ç²¾åº¦è¯´æ˜',
    formula: 'è®¡ç®—å…¬å¼',
    conditions: ['æ¡ä»¶1', 'æ¡ä»¶2']
  };
  
  // 5. æ·»åŠ è­¦å‘Šï¼ˆå¦‚æœéœ€è¦ï¼‰
  if (input1 > 80) {
    output.warning = 'å‚æ•°æ¥è¿‘ä¸Šé™ï¼Œç»“æœå¯èƒ½ä¸å‡†ç¡®';
  }
  
  return output;
}

// å¯¼å‡º
module.exports = {
  getMetadata,
  calculate
};
```

---

## é¡µé¢å¼€å‘

### é¡µé¢ç»“æ„

```javascript
// page.js
const util = require('../../utils/someUtil');
const { historyService } = require('../../services/history');
const { exportService } = require('../../services/export');

Page({
  data: {
    // è¾“å…¥æ•°æ®
    input1: '',
    input2: '',
    
    // ç»“æœæ•°æ®
    resultType: 'default',  // default/success/warning/error
    resultText: '',
    unit: '',
    precision: '',
    formula: '',
    conditions: [],
    warning: '',
    dataSource: '',
    
    // UIçŠ¶æ€
    loading: false,
    showModal: false
  },
  
  onLoad(options) {
    // é¡µé¢åŠ è½½
  },
  
  onShow() {
    // é¡µé¢æ˜¾ç¤º
  },
  
  // è¾“å…¥å¤„ç†
  handleInput1(e) {
    this.setData({ input1: e.detail.value });
  },
  
  // è®¡ç®—
  calculate() {
    // 1. éªŒè¯è¾“å…¥
    if (!this.validateInput()) {
      return;
    }
    
    // 2. æ˜¾ç¤ºåŠ è½½
    this.setData({ loading: true });
    
    // 3. æ‰§è¡Œè®¡ç®—
    const result = util.calculate(
      parseFloat(this.data.input1),
      parseFloat(this.data.input2)
    );
    
    // 4. å¤„ç†ç»“æœ
    if (result.error) {
      this.setData({
        loading: false,
        resultType: 'error',
        resultText: result.error,
        warning: result.error
      });
    } else {
      this.setData({
        loading: false,
        resultType: 'success',
        resultText: `ç»“æœ = ${result.result} ${result.unit}`,
        unit: result.unit,
        precision: result.precision,
        formula: result.formula,
        conditions: result.conditions,
        warning: result.warning || '',
        dataSource: 'æ•°æ®æ¥æºè¯´æ˜'
      });
    }
  },
  
  // è¾“å…¥éªŒè¯
  validateInput() {
    if (!this.data.input1 || !this.data.input2) {
      wx.showToast({
        title: 'è¯·å¡«å†™æ‰€æœ‰å‚æ•°',
        icon: 'none'
      });
      return false;
    }
    return true;
  },
  
  // åˆ†äº«
  onShareAppMessage() {
    return {
      title: 'é¡µé¢æ ‡é¢˜',
      path: '/pages/xxx/xxx'
    };
  }
});
```

---

## æœåŠ¡å±‚å¼€å‘

### æœåŠ¡æ¨¡æ¿

```javascript
/**
 * æœåŠ¡è¯´æ˜
 */
class SomeService {
  constructor() {
    this.cache = {};
  }
  
  /**
   * æ–¹æ³•è¯´æ˜
   * @param {any} param - å‚æ•°è¯´æ˜
   * @returns {any} è¿”å›å€¼è¯´æ˜
   */
  someMethod(param) {
    // å®ç°
  }
}

// å¯¼å‡ºå•ä¾‹
const someService = new SomeService();
module.exports = { someService };
```

---

## æ ·å¼è§„èŒƒ

### 1. å‘½åè§„èŒƒ

```css
/* BEM å‘½åæ³• */
.block { }                    /* å— */
.block__element { }           /* å…ƒç´  */
.block--modifier { }          /* ä¿®é¥°ç¬¦ */
.block__element--modifier { } /* å…ƒç´ ä¿®é¥°ç¬¦ */

/* ç¤ºä¾‹ */
.result-card { }              /* ç»“æœå¡ç‰‡ */
.result-card__header { }      /* å¡ç‰‡å¤´éƒ¨ */
.result-card--success { }     /* æˆåŠŸçŠ¶æ€ */
.result-card__header--large { } /* å¤§å·å¤´éƒ¨ */
```

### 2. å•ä½ä½¿ç”¨

```css
/* ä½¿ç”¨ rpx ä½œä¸ºä¸»è¦å•ä½ */
.element {
  width: 750rpx;    /* å±å¹•å®½åº¦ */
  padding: 30rpx;   /* é—´è· */
  font-size: 28rpx; /* å­—ä½“ */
}

/* è¾¹æ¡†ä½¿ç”¨ rpx */
.border {
  border: 2rpx solid #e0e0e0;
}

/* ç‰¹æ®Šæƒ…å†µä½¿ç”¨ px */
.hairline {
  border: 1px solid #e0e0e0;  /* 1ç‰©ç†åƒç´  */
}
```

### 3. é¢œè‰²è§„èŒƒ

```css
/* ä¸»è‰² */
--primary-color: #1f3c88;
--secondary-color: #667eea;

/* åŠŸèƒ½è‰² */
--success-color: #0ea5e9;
--warning-color: #f59e0b;
--error-color: #dc3545;
--info-color: #6c757d;

/* æ–‡æœ¬è‰² */
--text-primary: #2d3142;
--text-secondary: #666;
--text-tertiary: #999;

/* èƒŒæ™¯è‰² */
--bg-primary: #ffffff;
--bg-secondary: #f8f9fa;
--bg-tertiary: #f0f2f5;
```

### 4. åŠ¨ç”»è§„èŒƒ

```css
/* æ ‡å‡†è¿‡æ¸¡ */
.transition-standard {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* å¿«é€Ÿåé¦ˆ */
.transition-fast {
  transition: all 0.2s ease;
}

/* å¹³æ»‘åŠ¨ç”» */
@keyframes smooth-animation {
  from { opacity: 0; }
  to { opacity: 1; }
}

.smooth {
  animation: smooth-animation 0.3s ease-out;
}
```

---

## æµ‹è¯•è§„èŒƒ

### 1. åŠŸèƒ½æµ‹è¯•

```javascript
// æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹
describe('XRDè®¡ç®—', () => {
  it('åº”è¯¥æ­£ç¡®è®¡ç®—då€¼', () => {
    const result = xrd.dFromTheta2(36.5, 1.5406);
    expect(result.d).toBeCloseTo(2.456, 3);
  });
  
  it('åº”è¯¥æ£€æµ‹æ— æ•ˆè¾“å…¥', () => {
    const result = xrd.dFromTheta2(-10, 1.5406);
    expect(result.error).toBeDefined();
  });
});
```

### 2. æµ‹è¯•æ¸…å•

æ¯ä¸ªæ–°åŠŸèƒ½å¼€å‘åéœ€è¦æµ‹è¯•ï¼š
- âœ… æ­£å¸¸æµç¨‹æµ‹è¯•
- âœ… è¾¹ç•Œå€¼æµ‹è¯•
- âœ… é”™è¯¯è¾“å…¥æµ‹è¯•
- âœ… æ€§èƒ½æµ‹è¯•ï¼ˆå¦‚æœæ¶‰åŠå¤§æ•°æ®ï¼‰
- âœ… çœŸæœºæµ‹è¯•ï¼ˆiOS + Androidï¼‰

---

## ä»£ç æäº¤è§„èŒƒ

### Commit Message æ ¼å¼

```
type(scope): subject

body

footer
```

### Type ç±»å‹

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bugä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³

### ç¤ºä¾‹

```
feat(xrd): æ·»åŠ XRDè®¡ç®—å…ƒæ•°æ®æ”¯æŒ

- æ·»åŠ å®Œæ•´çš„è¾“å…¥éªŒè¯
- è¿”å›è¯¦ç»†çš„å…ƒæ•°æ®
- æ”¯æŒå¤šç§å°„çº¿æº

Closes #123
```

---

## æœ€ä½³å®è·µ

### 1. æ€§èƒ½ä¼˜åŒ–

```javascript
// âœ… ä½¿ç”¨ setData æ‰¹é‡æ›´æ–°
this.setData({
  loading: false,
  result: data,
  showModal: true
});

// âŒ é¿å…å¤šæ¬¡ setData
this.setData({ loading: false });
this.setData({ result: data });
this.setData({ showModal: true });

// âœ… é¿å…åœ¨ onShow ä¸­é¢‘ç¹æ“ä½œ
onShow() {
  if (!this.data.initialized) {
    this.loadData();
    this.setData({ initialized: true });
  }
}
```

### 2. å†…å­˜ç®¡ç†

```javascript
// âœ… é¡µé¢å¸è½½æ—¶æ¸…ç†æ•°æ®
onUnload() {
  this.setData({
    largeDataArray: null,
    imageUrls: []
  });
}

// âœ… é¿å…å†…å­˜æ³„æ¼
let timer = null;
onLoad() {
  timer = setInterval(() => {}, 1000);
}
onUnload() {
  clearInterval(timer);
}
```

### 3. ç”¨æˆ·ä½“éªŒ

```javascript
// âœ… æ·»åŠ åŠ è½½æç¤º
wx.showLoading({ title: 'è®¡ç®—ä¸­...' });
try {
  await calculate();
} finally {
  wx.hideLoading();
}

// âœ… å‹å¥½çš„é”™è¯¯æç¤º
wx.showToast({
  title: 'å‚æ•°æ ¼å¼é”™è¯¯',
  icon: 'none',
  duration: 2000
});

// âœ… é˜²æ­¢é‡å¤ç‚¹å‡»
data: { calculating: false },
async calculate() {
  if (this.data.calculating) return;
  this.setData({ calculating: true });
  try {
    await doCalculation();
  } finally {
    this.setData({ calculating: false });
  }
}
```

---

## å¼€å‘æµç¨‹

### 1. å¼€å‘æ–°åŠŸèƒ½

1. æŸ¥çœ‹ [å¾…å®ç°åŠŸèƒ½æ¸…å•](./å¾…å®ç°åŠŸèƒ½æ¸…å•.md)
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/xxx`
3. å¼€å‘å¹¶æµ‹è¯•
4. æäº¤ä»£ç : `git commit -m "feat: xxx"`
5. åˆå¹¶åˆ°ä¸»åˆ†æ”¯

### 2. ä¿®å¤Bug

1. åˆ›å»ºä¿®å¤åˆ†æ”¯: `git checkout -b fix/xxx`
2. ä¿®å¤å¹¶æµ‹è¯•
3. æäº¤ä»£ç : `git commit -m "fix: xxx"`
4. åˆå¹¶åˆ°ä¸»åˆ†æ”¯

### 3. å‘å¸ƒç‰ˆæœ¬

1. æ›´æ–°ç‰ˆæœ¬å·
2. æ›´æ–°æ–‡æ¡£
3. åˆ›å»ºå‘å¸ƒæ ‡ç­¾: `git tag v2.1.0`
4. æ¨é€æ ‡ç­¾: `git push --tags`

---

**ç»´æŠ¤è€…**: é¡¹ç›®å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2025-10-10

