<view class="calculator-input">
  <view class="input-label" wx:if="{{label}}">{{label}}</view>
  
  <!-- ä¸»è¾“å…¥åŒºåŸŸ -->
  <view class="input-wrapper {{error ? 'error' : ''}} {{focused ? 'focused' : ''}} {{touchArea === 'large' ? 'large' : ''}}">
    <input 
      class="input-field" 
      type="{{type}}"
      value="{{value}}"
      placeholder="{{placeholder}}"
      bindinput="handleInput"
      bindblur="handleBlur"
      bindfocus="handleFocus"
      disabled="{{disabled}}"
      maxlength="{{maxlength}}"
    />
    <view class="input-unit" wx:if="{{unit}}">{{unit}}</view>
    
    <!-- åŽ†å²è®°å½•æŒ‰é’® -->
    <view class="input-icon history-icon" wx:if="{{enableHistory && !icon}}" bindtap="toggleHistory">
      <text>ðŸ“‹</text>
    </view>
    
    <!-- è‡ªå®šä¹‰å›¾æ ‡ -->
    <view class="input-icon" wx:if="{{icon}}" bindtap="handleIconTap">{{icon}}</view>
  </view>
  
  <!-- é¢„è®¾å€¼å¿«æ·æŒ‰é’® -->
  <view class="presets-row" wx:if="{{presets && presets.length > 0}}">
    <scroll-view class="presets-scroll" scroll-x>
      <view class="presets-container">
        <view 
          wx:for="{{presets}}" 
          wx:key="value"
          class="preset-btn {{value === item.value ? 'active' : ''}}"
          data-value="{{item.value}}"
          bindtap="selectPreset"
        >
          <text>{{item.label}}</text>
        </view>
      </view>
    </scroll-view>
  </view>
  
  <!-- åŽ†å²è®°å½•ä¸‹æ‹‰ -->
  <view class="history-dropdown" wx:if="{{showHistory && historyList.length > 0}}">
    <view class="history-header">
      <text class="history-title">æœ€è¿‘ä½¿ç”¨</text>
      <text class="history-clear" bindtap="clearHistoryList">æ¸…é™¤</text>
    </view>
    <scroll-view class="history-list" scroll-y>
      <view 
        wx:for="{{historyList}}" 
        wx:key="index"
        class="history-item"
        data-value="{{item}}"
        bindtap="selectHistory"
      >
        <text class="history-value">{{item}}</text>
        <text class="history-icon">â†©</text>
      </view>
    </scroll-view>
  </view>
  
  <!-- è‡ªåŠ¨è¡¥å…¨å»ºè®® -->
  <view class="suggestions-dropdown" wx:if="{{showSuggestions && suggestions.length > 0}}">
    <view 
      wx:for="{{suggestions}}" 
      wx:key="index"
      class="suggestion-item"
      data-value="{{item}}"
      bindtap="selectSuggestion"
    >
      <text>{{item}}</text>
    </view>
  </view>
  
  <!-- é”™è¯¯å’Œæç¤ºä¿¡æ¯ -->
  <view class="input-error" wx:if="{{error}}">{{error}}</view>
  <view class="input-hint" wx:if="{{hint && !error}}">{{hint}}</view>
</view>

