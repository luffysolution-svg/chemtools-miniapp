<view class="result-card {{type}}">
  <view class="result-header">
    <view class="result-tag">{{title || 'ç»“æœ'}}</view>
    <view class="result-actions">
      <button class="action-btn" wx:if="{{showCopy}}" bindtap="handleCopy">
        <text class="icon">ğŸ“‹</text> å¤åˆ¶
      </button>
      <button class="action-btn" wx:if="{{showExport}}" bindtap="handleExport">
        <text class="icon">ğŸ“¤</text> å¯¼å‡º
      </button>
      <button class="action-btn" wx:if="{{showHistory}}" bindtap="handleSaveHistory">
        <text class="icon">ğŸ“Œ</text> ä¿å­˜
      </button>
    </view>
  </view>
  
  <view class="result-content">
    <slot></slot>
  </view>
  
  <!-- è­¦å‘Šä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰ -->
  <view class="result-warning" wx:if="{{warning}}">
    <text class="warning-icon">âš ï¸</text>
    <text class="warning-text">{{warning}}</text>
  </view>
  
  <!-- å…ƒæ•°æ®åŒºåŸŸ -->
  <view class="result-metadata" wx:if="{{showMetadata && (unit || precision || formula || conditions || dataSource)}}">
    <view class="metadata-header" bindtap="toggleMetadata">
      <text class="metadata-title">è¯¦ç»†ä¿¡æ¯</text>
      <text class="metadata-arrow {{isMetadataExpanded ? 'expanded' : ''}}">â–¼</text>
    </view>
    
    <view class="metadata-content" wx:if="{{isMetadataExpanded}}">
      <!-- å•ä½ -->
      <view class="metadata-item" wx:if="{{unit}}">
        <view class="meta-label">å•ä½</view>
        <view class="meta-value">{{unit}}</view>
      </view>
      
      <!-- ç²¾åº¦ -->
      <view class="metadata-item" wx:if="{{precision}}">
        <view class="meta-label">ç²¾åº¦</view>
        <view class="meta-value">{{precision}}</view>
      </view>
      
      <!-- è®¡ç®—å…¬å¼ -->
      <view class="metadata-item formula-item" wx:if="{{formula}}">
        <view class="meta-label">å…¬å¼</view>
        <view class="meta-value formula-text">{{formula}}</view>
      </view>
      
      <!-- è®¡ç®—æ¡ä»¶ -->
      <view class="metadata-item" wx:if="{{conditions}}">
        <view class="meta-label">æ¡ä»¶</view>
        <view class="meta-value">
          <block wx:if="{{!isConditionsArray}}">
            {{conditionsText}}
          </block>
          <block wx:else>
            <view class="condition-item" wx:for="{{conditionsList}}" wx:key="index">
              â€¢ {{item}}
            </view>
          </block>
        </view>
      </view>
      
      <!-- æ•°æ®æ¥æº -->
      <view class="metadata-item" wx:if="{{dataSource}}">
        <view class="meta-label">æ¥æº</view>
        <view class="meta-value source-text">{{dataSource}}</view>
      </view>
    </view>
  </view>
  
  <view class="result-hint" wx:if="{{hint}}">
    <text class="hint-icon">ğŸ’¡</text>
    <text class="hint-text">{{hint}}</text>
  </view>
</view>

