<view class="search-input-container academic-style">
  <!-- æœç´¢æ¡†ä¸»ä½“ -->
  <view class="search-box {{focused ? 'focused' : ''}}">
    <text class="search-icon">ğŸ”</text>
    <input 
      class="search-field"
      type="text"
      value="{{value}}"
      placeholder="{{placeholder}}"
      placeholder-class="search-placeholder"
      bindinput="handleInput"
      bindfocus="handleFocus"
      bindblur="handleBlur"
      bindconfirm="handleConfirm"
      confirm-type="search"
      maxlength="{{maxlength}}"
    />
    
    <!-- å†å²è®°å½•æŒ‰é’® -->
    <view 
      wx:if="{{enableHistory && !value}}" 
      class="action-btn history-btn"
      bindtap="toggleHistory"
    >
      <text class="btn-icon">ğŸ“‹</text>
    </view>
    
    <!-- æ¸…é™¤æŒ‰é’® -->
    <view 
      wx:if="{{value}}" 
      class="action-btn clear-btn"
      bindtap="clearInput"
    >
      <text class="btn-icon">âœ•</text>
    </view>
  </view>

  <!-- æœç´¢å†å²ä¸‹æ‹‰ -->
  <view 
    wx:if="{{showHistory && historyList.length > 0}}" 
    class="history-dropdown academic-card"
  >
    <view class="dropdown-header">
      <text class="header-title">æœ€è¿‘æœç´¢</text>
      <text class="header-action" bindtap="clearHistory">æ¸…é™¤</text>
    </view>
    <scroll-view class="history-list" scroll-y>
      <view 
        wx:for="{{historyList}}" 
        wx:key="index"
        class="history-item"
        data-value="{{item}}"
        bindtap="selectHistory"
      >
        <text class="history-icon">ğŸ•</text>
        <text class="history-text">{{item}}</text>
        <text class="history-arrow">â†’</text>
      </view>
    </scroll-view>
  </view>

  <!-- çƒ­é—¨æœç´¢ -->
  <view 
    wx:if="{{showHotSearches && hotSearches.length > 0}}" 
    class="hot-searches"
  >
    <view class="hot-header">
      <text class="hot-icon">ğŸ”¥</text>
      <text class="hot-title">çƒ­é—¨æœç´¢</text>
    </view>
    <view class="hot-tags">
      <view 
        wx:for="{{hotSearches}}" 
        wx:key="index"
        class="hot-tag"
        data-value="{{item}}"
        bindtap="selectHot"
      >
        {{item}}
      </view>
    </view>
  </view>

  <!-- æœç´¢å»ºè®®ä¸‹æ‹‰ -->
  <view 
    wx:if="{{showSuggestions && suggestions.length > 0}}" 
    class="suggestions-dropdown academic-card"
  >
    <view 
      wx:for="{{suggestions}}" 
      wx:key="index"
      class="suggestion-item"
      data-value="{{item}}"
      bindtap="selectSuggestion"
    >
      <text class="suggestion-icon">ğŸ’¡</text>
      <text class="suggestion-text">{{item}}</text>
    </view>
  </view>
</view>

