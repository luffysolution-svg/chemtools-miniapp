<view class="home-container">
  <!-- é¡¶éƒ¨æœç´¢æ  -->
  <view class="search-section">
    <view class="search-bar" bindtap="navigateToSearch">
      <text class="search-icon">ğŸ”</text>
      <text class="search-placeholder">æœç´¢å·¥å…·ã€åŒ–å­¦å“ã€ææ–™...</text>
    </view>
  </view>

  <!-- å¿«æ·æœç´¢æ ‡ç­¾ -->
  <view class="quick-tags" wx:if="{{!isSearching}}">
    <view class="quick-tag" wx:for="{{quickSearchTags}}" wx:key="*this" 
          data-tag="{{item}}" bindtap="onQuickSearchTag">
      {{item}}
    </view>
  </view>

  <!-- æœ€è¿‘ä½¿ç”¨ -->
  <view class="section recent-section" wx:if="{{recentTools.length > 0 && !isSearching}}">
    <view class="section-header">
      <text class="section-title">â±ï¸ æœ€è¿‘ä½¿ç”¨</text>
    </view>
    <scroll-view class="recent-scroll" scroll-x>
      <view class="recent-tools">
        <view class="recent-tool" wx:for="{{recentTools}}" wx:key="id"
              data-path="{{item.path}}" data-id="{{item.id}}" bindtap="navigateToTool">
          <text class="tool-icon">{{item.icon}}</text>
          <text class="tool-name">{{item.name}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- æœç´¢ç»“æœ -->
  <view class="search-results" wx:if="{{isSearching}}">
    <view class="search-header">
      <text class="result-count">æ‰¾åˆ° {{filteredTools.length}} ä¸ªå·¥å…·</text>
      <text class="clear-search" bindtap="clearSearch">æ¸…é™¤</text>
    </view>
    
    <view class="tool-grid">
      <view class="tool-card-wrapper" wx:for="{{filteredTools}}" wx:key="id"
            data-path="{{item.path}}" data-id="{{item.id}}" bindtap="navigateToTool">
        <view class="tool-card">
          <text class="card-icon">{{item.icon}}</text>
          <view class="card-content">
            <text class="card-title">{{item.name}}</text>
            <text class="card-desc">{{item.description}}</text>
            <text class="card-category">{{item.category}}</text>
          </view>
        </view>
      </view>
    </view>
    
    <view class="empty-result" wx:if="{{filteredTools.length === 0}}">
      <text class="empty-icon">ğŸ”</text>
      <text class="empty-text">æœªæ‰¾åˆ°ç›¸å…³å·¥å…·</text>
    </view>
  </view>

  <!-- v8.0.0 æŒ‰ç§‘ç ”æ ‡å‡†åˆ†ç±»çš„å·¥å…·å¯¼èˆª -->
  <view class="categories-container" wx:if="{{!isSearching && showTools}}">
    <view class="category-section" wx:for="{{categories}}" wx:key="id">
      <view class="category-header" style="border-left-color: {{item.color}}">
        <text class="category-icon">{{item.icon}}</text>
        <text class="category-title">{{item.name}}</text>
        <text class="tool-count">{{toolsByCategory[item.id].length}}ä¸ª</text>
      </view>
      
      <view class="tool-grid">
        <view class="tool-card-wrapper" 
              wx:for="{{toolsByCategory[item.id]}}" 
              wx:key="id"
              wx:for-item="tool"
              data-path="{{tool.path}}" 
              data-id="{{tool.id}}" 
              bindtap="navigateToTool">
          <view class="tool-card">
            <text class="card-icon">{{tool.icon}}</text>
            <view class="card-content">
              <text class="card-title">{{tool.name}}</text>
              <text class="card-desc">{{tool.description}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æç¤º -->
  <view class="footer-tip" wx:if="{{!isSearching}}">
    <text class="tip-badge">72ç§åŒ–å­¦å“ Â· 172ç§åŠå¯¼ä½“ Â· 200+å®éªŒå¸¸æ•°</text>
  </view>
</view>
